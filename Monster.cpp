#include "Monster.h"
#include <iostream>
using namespace std;

Monster::Monster(const string& name, int hp, int baseDamage, int ultDamage, int ultCooldown)
	: Character(name,hp),
	baseAttackDamage(baseDamage),
	ultimateAttackDamage(ultDamage),
	ultimateCooldownMax(ultCooldown),
	ultimateCooldownCurrent(0) {}

int Monster::performAction() {
	if (ultimateCooldownCurrent == 0) {
		cout << name << "이/가 궁극기를 사용합니다! (" << ultimateAttackDamage << "피해)" << endl;
		ultimateCooldownCurrent = ultimateCooldownMax;
		return ultimateAttackDamage;
	} 
	else {
		cout << name << "이/가 일반 공격을 합니다! (" << baseAttackDamage << "피해)" << endl;
		return baseAttackDamage;
	}
}

void Monster::decreaseCooldown() {
	if (ultimateCooldownCurrent > 0) {
		ultimateCooldownCurrent--;
	}
}

int Monster::getUltimateCoddownCurrent() const {
	return ultimateCooldownCurrent;
}

void Monster::printStatus() const {
	cout << getName() << " HP: " << hp << "/" << maxHp << endl;

	if (ultimateCooldownCurrent == 0) {
		cout << "[궁극기 사용 가능!]" << endl;
	}
	else {
		cout << "[궁극기 쿨타임: " << ultimateCooldownCurrent << "턴]" << endl;
	}
}